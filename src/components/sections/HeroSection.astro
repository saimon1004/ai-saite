---
const base = import.meta.env.BASE_URL;
---

<section class="relative h-[67vh] flex items-end overflow-hidden">
  <!-- Video background -->
  <video
    class="absolute inset-0 w-full h-full object-cover"
    autoplay
    muted
    loop
    playsinline
    preload="auto"
    aria-hidden="true"
  >
    <source src={`${base}hero.mp4`} type="video/mp4" />
  </video>

  <!-- Dark overlay -->
  <div class="absolute inset-0 bg-gradient-to-t from-black/85 via-black/50 to-black/25" aria-hidden="true"></div>

  <!-- Content -->
  <div class="hero-content relative z-10 w-full max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 pb-12 sm:pb-16">
    <!-- Sub text -->
    <p
      class="text-sm sm:text-base tracking-[0.2em] uppercase text-white/80 font-heading font-bold mb-4 animate-fade-up"
      data-animate
    >
      企業をテクノロジーで<span class="text-teal">SHINKA</span>させる。
    </p>

    <!-- Main heading -->
    <h1
      class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white leading-[1.1] animate-fade-up"
      data-animate
      style="transition-delay: 0.1s;"
    >
      「面白い」を<br class="hidden sm:block" />実現させる。
    </h1>

  </div>

  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-white/40" aria-hidden="true">
    <span class="text-[10px] font-heading tracking-[0.3em] uppercase">Scroll</span>
    <div class="scroll-indicator">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </div>
  </div>
</section>

<style>
  .hero-content {
    text-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
  }

  .scroll-indicator {
    animation: scrollBounce 2s ease-in-out infinite;
  }

  @keyframes scrollBounce {
    0%, 100% {
      transform: translateY(0);
      opacity: 1;
    }
    50% {
      transform: translateY(6px);
      opacity: 0.3;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .scroll-indicator {
      animation: none;
    }
  }
</style>

<script>
  const heroElements = document.querySelectorAll<HTMLElement>('[data-animate]');
  if (heroElements.length > 0) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );
    heroElements.forEach((el) => observer.observe(el));
  }
</script>
