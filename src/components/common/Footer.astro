---
import Logo from "./Logo.astro";
import { company } from "../../data/company";
import { navigation } from "../../data/navigation";

const base = import.meta.env.BASE_URL;
const currentYear = new Date().getFullYear();
---

<footer class="bg-navy text-text-on-dark">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-28 sm:pb-8 lg:py-10">
    <!-- Main row: Logo + Nav + Contact -->
    <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 mb-6">
      <!-- Logo -->
      <div class="shrink-0">
        <a
          href={`${base}#`}
          class="hover:opacity-80 transition-opacity inline-block"
          aria-label="SAIMON - ページトップへ"
        >
          <Logo variant="light" class="text-2xl" />
        </a>
        <p class="mt-1 text-text-on-dark/50 text-xs max-w-xs">
          {company.tagline}
        </p>
      </div>

      <!-- Nav -->
      <nav aria-label="フッターナビゲーション">
        <ul class="flex flex-wrap gap-x-6 gap-y-2">
          {navigation.map((item) => (
            <li>
              <a
                href={`${base}${item.href}`}
                class="text-xs text-text-on-dark/60 hover:text-teal transition-colors duration-200"
              >
                {item.labelEn}
              </a>
            </li>
          ))}
        </ul>
      </nav>

      <!-- Contact -->
      <div class="flex flex-wrap gap-x-6 gap-y-2 text-xs text-text-on-dark/60">
        <a
          href={`mailto:${company.email}`}
          class="flex items-center gap-1.5 hover:text-teal transition-colors duration-200"
        >
          <svg class="w-3.5 h-3.5 shrink-0 text-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          {company.email}
        </a>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="pt-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-2">
      <p class="text-[11px] text-text-on-dark/40">
        &copy; {currentYear} {company.name} All rights reserved.
      </p>
      <a
        href={`${base}privacy-policy/`}
        class="text-[11px] text-text-on-dark/40 hover:text-teal transition-colors duration-200"
      >
        プライバシーポリシー
      </a>
    </div>
  </div>
</footer>
