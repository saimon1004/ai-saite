---
const base = import.meta.env.BASE_URL;
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden">
  <!-- Animated gradient background -->
  <div class="hero-bg absolute inset-0 -z-10" aria-hidden="true"></div>

  <!-- Floating geometric decorations -->
  <div class="absolute inset-0 -z-5 overflow-hidden pointer-events-none" aria-hidden="true">
    <!-- Large diamond -->
    <div class="hero-shape hero-shape--diamond absolute top-[15%] left-[10%] w-32 h-32 border border-teal/20 rotate-45"></div>
    <!-- Circle -->
    <div class="hero-shape hero-shape--circle absolute top-[20%] right-[15%] w-24 h-24 rounded-full border border-white/10"></div>
    <!-- Small square -->
    <div class="hero-shape hero-shape--square absolute bottom-[30%] left-[20%] w-16 h-16 border border-teal/15 rotate-12"></div>
    <!-- Triangle outline (CSS-only) -->
    <div class="hero-shape hero-shape--triangle absolute bottom-[25%] right-[10%] w-0 h-0"></div>
    <!-- Dots cluster -->
    <div class="hero-shape hero-shape--dots absolute top-[40%] right-[25%] w-2 h-2 rounded-full bg-teal/20 shadow-[20px_10px_0_rgba(49,185,181,0.15),40px_-5px_0_rgba(49,185,181,0.1),-15px_25px_0_rgba(49,185,181,0.12)]"></div>
    <!-- Large ring -->
    <div class="hero-shape hero-shape--ring absolute top-[60%] left-[5%] w-48 h-48 rounded-full border-2 border-white/5"></div>
    <!-- Small accent circle -->
    <div class="hero-shape hero-shape--accent absolute top-[10%] left-[50%] w-4 h-4 rounded-full bg-teal/30"></div>
  </div>

  <!-- Content -->
  <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <!-- Small label -->
    <p class="inline-block text-teal text-sm sm:text-base font-bold tracking-[0.3em] uppercase mb-6 animate-fade-up" data-animate>
      SAIMON
    </p>

    <!-- Main tagline -->
    <h1 class="text-5xl lg:text-7xl font-black text-white leading-tight mb-6 animate-fade-up" data-animate style="transition-delay: 0.1s;">
      「面白い」を実現させる。
    </h1>

    <!-- Subtitle -->
    <p class="text-lg sm:text-xl text-white/80 max-w-2xl mx-auto mb-10 animate-fade-up" data-animate style="transition-delay: 0.2s;">
      テクノロジーで企業を前進させる経営コンサルティング
    </p>

    <!-- CTA Button -->
    <div class="animate-fade-up" data-animate style="transition-delay: 0.3s;">
      <a
        href={`${base}contact/`}
        class="inline-flex items-center gap-2 px-8 py-4 bg-teal text-white font-bold text-base sm:text-lg rounded-[var(--radius-button)] hover:bg-teal-light hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300"
      >
        お問い合わせ
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-white/60" aria-hidden="true">
    <span class="text-xs tracking-widest uppercase">Scroll</span>
    <div class="scroll-chevron flex flex-col items-center">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </div>
  </div>
</section>

<style>
  .hero-bg {
    background: linear-gradient(
      135deg,
      var(--color-navy-dark) 0%,
      var(--color-navy) 40%,
      #10007a 60%,
      var(--color-navy-dark) 80%,
      #0a0060 100%
    );
    background-size: 300% 300%;
    animation: heroGradient 12s ease infinite;
  }

  .hero-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at 70% 20%,
      rgba(49, 185, 181, 0.12) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      rgba(49, 185, 181, 0.08) 0%,
      transparent 40%
    );
  }

  @keyframes heroGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Floating shapes animation */
  .hero-shape {
    animation: heroFloat 8s ease-in-out infinite;
  }

  .hero-shape--diamond {
    animation-duration: 10s;
  }

  .hero-shape--circle {
    animation-duration: 7s;
    animation-delay: -2s;
  }

  .hero-shape--square {
    animation-duration: 9s;
    animation-delay: -4s;
  }

  .hero-shape--triangle {
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 34px solid rgba(49, 185, 181, 0.1);
    animation-duration: 11s;
    animation-delay: -1s;
  }

  .hero-shape--dots {
    animation-duration: 6s;
    animation-delay: -3s;
  }

  .hero-shape--ring {
    animation-duration: 14s;
    animation-delay: -5s;
  }

  .hero-shape--accent {
    animation-duration: 5s;
    animation-delay: -2s;
  }

  @keyframes heroFloat {
    0%, 100% { transform: translateY(0) rotate(var(--tw-rotate, 0deg)); }
    50% { transform: translateY(-20px) rotate(var(--tw-rotate, 0deg)); }
  }

  .hero-shape--diamond {
    --tw-rotate: 45deg;
  }

  .hero-shape--square {
    --tw-rotate: 12deg;
  }

  /* Scroll chevron animation */
  .scroll-chevron {
    animation: scrollBounce 2s ease-in-out infinite;
  }

  @keyframes scrollBounce {
    0%, 100% { transform: translateY(0); opacity: 1; }
    50% { transform: translateY(8px); opacity: 0.5; }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-bg {
      animation: none;
      background-position: 50% 50%;
    }

    .hero-shape {
      animation: none;
    }

    .scroll-chevron {
      animation: none;
    }
  }
</style>

<script>
  const heroElements = document.querySelectorAll<HTMLElement>('[data-animate]');
  if (heroElements.length > 0) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );
    heroElements.forEach((el) => observer.observe(el));
  }
</script>
