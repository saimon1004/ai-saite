---
import PageLayout from "../layouts/PageLayout.astro";
import Container from "../components/ui/Container.astro";
import SectionHeading from "../components/common/SectionHeading.astro";
import AnimateOnScroll from "../components/ui/AnimateOnScroll.astro";
import { company } from "../data/company";

const base = import.meta.env.BASE_URL;

const breadcrumbs = [
  { label: "ホーム", href: `${base}` },
  { label: "会社概要" },
];

const companyInfo = [
  { label: "会社名", value: company.name },
  { label: "代表取締役", value: company.ceo },
  { label: "設立", value: company.founded },
  { label: "事業内容", value: company.business },
  { label: "所在地", value: `${company.postalCode} ${company.address}` },
  { label: "TEL", value: company.tel, href: `tel:${company.tel}` },
  { label: "Email", value: company.email, href: `mailto:${company.email}` },
];

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "Organization",
  name: company.name,
  alternateName: company.nameEn,
  url: company.url,
  founder: {
    "@type": "Person",
    name: company.ceo,
  },
  foundingDate: "2020-10",
  address: {
    "@type": "PostalAddress",
    streetAddress: "龍造寺町4-3",
    addressLocality: "大阪市中央区",
    addressRegion: "大阪府",
    postalCode: "540-0014",
    addressCountry: "JP",
  },
  contactPoint: {
    "@type": "ContactPoint",
    telephone: company.tel,
    email: company.email,
    contactType: "customer service",
    availableLanguage: "Japanese",
  },
};
---

<PageLayout
  title="会社概要 | 株式会社SAIMON"
  description="株式会社SAIMONの会社概要。大阪市中央区を拠点に、経営コンサルティング事業を展開しています。"
  breadcrumbs={breadcrumbs}
  jsonLd={jsonLd}
>
  <!-- Hero Banner -->
  <section class="relative overflow-hidden bg-gradient-to-br from-navy via-navy-light to-navy py-20 sm:py-28">
    <div class="absolute inset-0 opacity-10" aria-hidden="true">
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-teal rounded-full blur-3xl"></div>
    </div>
    <Container class="relative text-center">
      <p class="text-teal text-sm font-bold tracking-[0.3em] uppercase mb-4">Company</p>
      <h1 class="text-4xl sm:text-5xl md:text-6xl font-black text-white tracking-tight">
        COMPANY
      </h1>
      <p class="mt-4 text-lg text-white/70">会社概要</p>
    </Container>
  </section>

  <!-- Company Info Table -->
  <section class="py-20 sm:py-28 bg-surface">
    <Container>
      <AnimateOnScroll>
        <SectionHeading title="会社情報" subtitle="株式会社SAIMONの基本情報をご紹介します。" />
      </AnimateOnScroll>

      <AnimateOnScroll delay={100}>
        <div class="max-w-3xl mx-auto">
          <dl class="rounded-[var(--radius-card)] overflow-hidden border border-border shadow-card">
            {companyInfo.map((item, index) => (
              <div class:list={[
                "grid grid-cols-1 sm:grid-cols-[200px_1fr] gap-1 sm:gap-0",
                index % 2 === 0 ? "bg-surface" : "bg-surface-dim",
                index !== companyInfo.length - 1 && "border-b border-border",
              ]}>
                <dt class="px-6 pt-4 sm:py-5 font-bold text-text-primary text-sm sm:text-base">
                  {item.label}
                </dt>
                <dd class="px-6 pb-4 sm:py-5 text-text-secondary text-sm sm:text-base">
                  {item.href ? (
                    <a
                      href={item.href}
                      class="text-navy hover:text-teal transition-colors duration-200 underline decoration-navy/30 hover:decoration-teal"
                    >
                      {item.value}
                    </a>
                  ) : (
                    item.value
                  )}
                </dd>
              </div>
            ))}
          </dl>
        </div>
      </AnimateOnScroll>
    </Container>
  </section>

  <!-- Access / Map Section -->
  <section class="py-20 sm:py-28 bg-surface-dim">
    <Container>
      <AnimateOnScroll delay={200}>
        <SectionHeading title="アクセス" subtitle="お越しの際はこちらをご参照ください。" />
      </AnimateOnScroll>

      <AnimateOnScroll delay={300}>
        <div class="max-w-4xl mx-auto">
          <!-- Address info -->
          <div class="text-center mb-8">
            <div class="inline-flex items-center gap-2 text-text-secondary">
              <svg class="w-5 h-5 text-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <p class="text-base sm:text-lg">{company.postalCode} {company.address}</p>
            </div>
          </div>

          <!-- Google Maps embed -->
          <div class="rounded-[var(--radius-card)] overflow-hidden shadow-card-hover">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3281.2!2d135.524!3d34.677!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2z5aSn6Ziq5bqc5aSn6Ziq5biC5Lit5aSu5Yy66b6N6YCg5a-65bi6NC0z!5e0!3m2!1sja!2sjp!4v1"
              width="100%"
              height="400"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              title="株式会社SAIMONの所在地"
              class="w-full"
            ></iframe>
          </div>
        </div>
      </AnimateOnScroll>
    </Container>
  </section>
</PageLayout>
